<div class="search-container">
  <span class="p-input-icon-left">
    <i class="pi pi-search"></i>
    <input
      type="text"
      pInputText
      placeholder="Search events..."
      [(ngModel)]="searchQuery"
      (ngModelChange)="onSearchChange($event)"
      (focus)="isFocused = true"
      (blur)="onBlur()"
      class="search-input"
    />
  </span>

  <div class="category-chips" *ngIf="isFocused || searchQuery.trim()">
    <span
      *ngFor="let c of categories"
      class="chip"
      [class.active]="selectedCategory === c.value"
      (click)="selectCategory(c.value)"
    >
      {{ c.label }}
    </span>
  </div>

  <div class="search-results" *ngIf="showResults">
    <div
      *ngFor="let event of searchResults"
      class="result-item"
      (click)="selectEvent(event)"
    >
      <span>{{ event.name }}</span>
      <i
        class="pi"
        [ngClass]="{
          'pi-video': event.category === 'movie',
          'pi-flag': event.category === 'sports',
          'pi-microphone': event.category === 'concert',
          'pi-briefcase': event.category === 'workshop',
          'pi-glass': event.category === 'party'
        }"
      ></i>
    </div>
  </div>
</div>
