<p-dialog 
  [(visible)]="visible" 
  [modal]="true" 
  [style]="{width: '70vw'}" 
  header="Seat Map"
>
  <div class="seatmap-container">

    <div class="screen">
      <div class="screen-bar"></div>
      <p>SCREEN</p>
    </div>

    <div class="seat-grid">
      <div *ngFor="let row of [1,2,3,4,5,6,7,8,9,10]" class="row">
        <div class="row-label">{{ getRowLetter(row) }}</div>

        <button 
          *ngFor="let col of [1,2,3,4,5,6,7,8,9,10]"
          (click)="toggleSeat(row,col)"
          [disabled]="getSeat(row,col)?.isBooked"
          [ngClass]="getSeatClass(getSeat(row,col)!)"
        >
          {{ col }}
        </button>
      </div>
    </div>

    <div class="legend">
      <div><span class="available"></span> Available</div>
      <div><span class="selected"></span> Selected</div>
      <div><span class="booked"></span> Booked</div>
    </div>

    <div class="summary" *ngIf="selectedSeats.length">
      <div>
        Seats: {{ selectedSeatCodes.join(', ') }}
      </div>
      <div>Total: â‚¹{{ totalPrice }}</div>
      <button 
        pButton 
        label="Confirm Booking" 
        (click)="onConfirmBooking()"
      ></button>
    </div>
  </div>
</p-dialog>
